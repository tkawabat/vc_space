## follow
#### 案
* 案1: UserのCollectionにフォローしているリストを作る
    * メリット
    * デメリット
        * フォロワーリストは無理
        * フォロワー数は別途管理する？
            * 不整合起きるかも
* 案2: Relation Collection
* 案3: UserのサブコレクションのFollow, Followed
    * デメリット
        * データ量が二倍
        * 書き込みも二倍
        * 不整合対策


| CRUD / 案  | 案1  | 案2    | 案3  |
| --------- | --- | ----- | --- |
| フォローリスト   | ○   | ○     | ○   |
| フォロワーリスト  | ☓   | ○     | ○   |
| フォロワー数    | △   | ○     | ○   |
| 入室チェック    | ○   | ○     | ○   |
| フォロー作成/削除 | ○   | ○     | ○   |
| データ量      | ○   | 少し増える | 2倍  |
| 読み取り      |     |       |     |
| 書き込み      |     |       |     |

#### 結論
* 案3？

## block
* followと全く同じ

## 空き時間
| CRUD/案       | 案1  | 案2  |
| ------------ | --- | --- |
| 自分の空き時間リスト   | ○   | ○   |
| 対象時間のユーザーリスト | ○?  | ○   |
| 登録/削除        |     |     |
| データ量         |     | ☓   |
| 読み取り         |     |     |
| 書き込み         |     |     |

#### 案
* 案1: Userの中にリストを持つ
* 案2: FreeTime Collection

#### 結論
* 案1

## 入室者
| CRUD/案       | 案1  | 案2  |
| ------------ | --- | --- |
| 自分の空き時間リスト   | ○   | ○   |
| 対象時間のユーザーリスト | ○?  | ○   |
| 登録/削除        |     |     |
| データ量         |     | ☓    |
| 読み取り         |     |     |
| 書き込み         |     |     |

#### 案
* 案1: Roomの中にリストを持つ
* 案2: RoomUser Collection

